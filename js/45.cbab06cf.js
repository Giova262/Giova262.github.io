"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[45],{2473:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$});var a=s(9835);const o={class:"fit"};function l(e,t,s,l,n,i){const r=(0,a.up)("PersonasListRevision"),c=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(c,null,{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a.Wm)(r)])])),_:1})}var n=s(6970),i=s(9742),r=s.n(i);const c={overline:"",class:"row jg-border-radius-2 bg-blue-2 q-px-md justify-between q-mx-none q-mt-xs shadow-3"},u={class:"q-py-sm"},d={class:"row items-center"},m={class:"row items-center"},w={class:"row items-center full-width"},p={class:"col q-pr-md"},g=(0,a._)("div",{class:"absolute-full flex flex-center bg-negative text-white"}," Cannot load image ",-1),f={class:"col-9 q-px-none"},h=(0,a._)("span",{class:"text-grey-7 q-pr-sm"},"Estado:",-1),q={class:"col text-yellow-9 text-bold"},v={key:0,class:"col text-right text-purple-5 text-bold"},_={class:"text-weight-medium q-pr-sm"},x={class:"text-grey-6 q-pr-xs"},b={class:"text-grey-6"},y={class:"text-grey-6 q-pl-xs"},k={key:0},L={key:0};function C(e,t,s,o,l,i){const C=(0,a.up)("q-badge"),Z=(0,a.up)("q-tooltip"),W=(0,a.up)("q-icon"),z=(0,a.up)("q-input"),S=(0,a.up)("q-img"),j=(0,a.up)("q-item-label"),R=(0,a.up)("q-item-section"),I=(0,a.up)("q-item"),Q=(0,a.up)("q-slide-item"),T=(0,a.up)("q-virtual-scroll"),U=(0,a.up)("q-page");return e.isReady?((0,a.wg)(),(0,a.j4)(U,{key:0,class:"q-px-sm bg-grey-3"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("div",u,[(0,a.Uk)(" Miembros "),(0,a.Wm)(C,{color:"primary",class:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.personasList.length),1)])),_:1}),e.searchText?((0,a.wg)(),(0,a.j4)(C,{key:0,color:"secondary",class:"q-ml-xs"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.personasFilteredOut.length),1)])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",null,[(0,a.Wm)(W,{name:"refresh",onClick:e.onRefreshList,class:"cursor-pointer q-py-sm",color:"blue-9",size:"sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Refrescar")])),_:1})])),_:1},8,["onClick"])])]),(0,a.Wm)(z,{modelValue:e.searchText,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchText=t),dense:"",flat:"",clearable:"",rounded:"",placeholder:"Buscar..",class:"fit q-mt-xs q-px-xs text-black q-mx-none",style:{padding:"0px !important"},standout:"bg-blue-10 "},{append:(0,a.w5)((()=>[(0,a.Wm)(W,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(T,{items:e.personasFilteredOut,"virtual-scroll-slice-size":15,style:{height:"75vh !important"},class:"q-mt-sm"},{default:(0,a.w5)((({item:t})=>[((0,a.wg)(),(0,a.j4)(Q,{key:t.id,class:"jg-border-radius q-mb-sm q-mr-sm",onLeft:s=>e.onLeft(s,t),onRight:s=>e.onRight(s,t),onClick:s=>e.onItemClick(t)},{left:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a.Wm)(W,{left:"",name:"visibility"}),(0,a.Uk)(" Mostrar ")])])),right:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a.Uk)(" Modificar "),(0,a.Wm)(W,{right:"",name:"edit"})])])),default:(0,a.w5)((()=>[(0,a.Wm)(I,{class:"bg-white"},{default:(0,a.w5)((()=>[(0,a._)("div",w,[(0,a._)("div",p,[(0,a.Wm)(S,{alt:"Foto",fit:"scale-down",loading:"lazy",src:t.foto_url,"spinner-color":"green",class:"text-grey-3 q-mr-sm","placeholder-src":r()},{error:(0,a.w5)((()=>[g])),_:2},1032,["src"])]),(0,a._)("div",f,[(0,a.Wm)(R,{class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(j,{class:"text-grey-5 row items-center no-wrap q-mt-xs"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[h,(0,a._)("span",q,(0,n.zw)(t.estado),1)]),t.iglesia?((0,a.wg)(),(0,a.iD)("span",v,(0,n.zw)(t.iglesia),1)):(0,a.kq)("",!0)])),_:2},1024),(0,a.Wm)(j,{class:"row items-center text-uppercase no-wrap q-mt-xs"},{default:(0,a.w5)((()=>[(0,a._)("span",_,(0,n.zw)(t.nombre)+" "+(0,n.zw)(t.apellido),1),(0,a._)("span",x,"("+(0,n.zw)(t.edad||"?")+")",1),(0,a._)("span",b," ("+(0,n.zw)(t.sexo?t.sexo.codigo:"-")+")",1),(0,a._)("span",y,[t.bautizado?((0,a.wg)(),(0,a.j4)(W,{key:0,color:"green-8",name:"done"})):(0,a.kq)("",!0)])])),_:2},1024),(0,a.Wm)(j,{caption:"",class:"row justify-between items-center"},{default:(0,a.w5)((()=>[(0,a._)("span",null,[(0,a.Wm)(W,{name:"place",class:"q-mr-none"}),(0,a.Uk)(" "+(0,n.zw)(t.direccion||"No ingresada"),1)])])),_:2},1024),(0,a.Wm)(j,{class:"row justify-between items-center text-grey-6"},{default:(0,a.w5)((()=>[(0,a._)("span",null,"Telfono: "+(0,n.zw)(t.telefono),1),t.fecha_ingreso?((0,a.wg)(),(0,a.iD)("span",k,"Fecha de ingreso: "+(0,n.zw)(t.fecha_ingreso),1)):(0,a.kq)("",!0)])),_:2},1024),(0,a.Wm)(j,{class:"row justify-between items-center text-grey-6"},{default:(0,a.w5)((()=>[t.email?((0,a.wg)(),(0,a.iD)("span",L,"Correo: "+(0,n.zw)(t.email),1)):(0,a.kq)("",!0)])),_:2},1024)])),_:2},1024)])])])),_:2},1024)])),_:2},1032,["onLeft","onRight","onClick"]))])),_:1},8,["items"])])),_:1})):(0,a.kq)("",!0)}s(9665);var Z=s(499),W=s(9302),z=s(8339),S=s(6984),j=s(1033),R=s(2850),I=s(3331);const Q=(0,a.aZ)({name:"Persona_List",components:{PersonaInputs:S.Z},props:{},setup(){(0,W.Z)();const e=(0,Z.iH)(!1),t=(0,z.tv)();let s;const o=(0,Z.iH)([]),l=(0,Z.iH)(null),n=(0,a.Fl)((()=>{let e=l.value?i():o.value;return e}));function i(){return o.value.filter((e=>e.nombre&&e.nombre.toLowerCase().includes(l.value.toString().toLowerCase())||e.apellido&&e.apellido.toLowerCase().includes(l.value.toString().toLowerCase())||e.edad&&e.edad.toLowerCase().includes(l.value.toString().toLowerCase())||e.email&&e.email.toLowerCase().includes(l.value.toString().toLowerCase())||e.direccion&&e.direccion.toLowerCase().includes(l.value.toString().toLowerCase())||e.iglesia&&e.iglesia.toLowerCase().includes(l.value.toString().toLowerCase())||e.estado&&e.estado.toLowerCase().includes(l.value.toString().toLowerCase())||e.telefono&&e.telefono.toString().toLowerCase().includes(l.value.toString().toLowerCase())))}function r(e){s=setTimeout((()=>{e()}),1e3)}function c({reset:e},s){s.saveLocalStorage(),r(e),t.push({name:"details"}).catch((()=>{}))}function u({reset:e},s){s.saveLocalStorage(),r(e),t.push({name:"edit"}).catch((()=>{}))}function d(e){e.saveLocalStorage(),t.push({name:"details"}).catch((()=>{}))}async function m(){await j.Z.setAuthEncabezado();const e=await j.Z.getAll();e&&(await I.Z.migrar(e.data),await w())}async function w(){const e=await I.Z.getAllWhereEstado("EN REVISION");o.value=[];for(let t=0;t<e.length;t++){let s=e[t];s.id=s.id_persona;const a=new R.Z;await a.cargarDatos(s),o.value.push(a)}}async function p(){await m()}return(0,a.bv)((async()=>{await w(),e.value=!0})),(0,a.Jd)((()=>{clearTimeout(s)})),{onLeft:c,onRight:u,onItemClick:d,onRefreshList:p,isReady:e,personasList:o,personasFilteredOut:n,searchText:l}}});var T=s(1639),U=s(9885),P=s(990),F=s(2857),E=s(6858),V=s(3119),D=s(8978),O=s(8713),A=s(490),H=s(335),M=s(1233),N=s(3115),B=s(9984),J=s.n(B);const G=(0,T.Z)(Q,[["render",C]]),K=G;J()(Q,"components",{QPage:U.Z,QBadge:P.Z,QIcon:F.Z,QTooltip:E.Z,QInput:V.Z,QVirtualScroll:D.Z,QSlideItem:O.Z,QItem:A.Z,QImg:H.Z,QItemSection:M.Z,QItemLabel:N.Z});const X=(0,a.aZ)({name:"PersonaShowRevision",components:{PersonasListRevision:K}}),Y=(0,T.Z)(X,[["render",l]]),$=Y;J()(X,"components",{QPage:U.Z})}}]);